{% extends 'base.html' %}

{% block title %}{{ title }} - –û–ê–û "–ì–ó–õ–∏–ù"{% endblock %}

{% block content %}
<div class="container" style="padding: 3rem 0;">
    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <div style="margin-bottom: 2rem; color: var(--secondary-gray);">
        <a href="{% url 'core:home' %}" style="color: var(--primary-red);">–ì–ª–∞–≤–Ω–∞—è</a> / 
        <a href="{% url 'accounts:profile' %}" style="color: var(--primary-red);">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a> / 
        <span>–ó–∞–∫–∞–∑ #{{ order_number }}</span>
    </div>
    
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1>–ó–∞–∫–∞–∑ #{{ order_number }}</h1>
        <div style="display: flex; gap: 1rem;">
            <button class="btn btn-outline" onclick="window.print()">üñ®Ô∏è –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å</button>
            <button class="btn btn-primary" onclick="downloadOrder()">üìÑ –°–∫–∞—á–∞—Ç—å PDF</button>
        </div>
    </div>
    
    <!-- –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ -->
    <div style="background: white; border-radius: 10px; box-shadow: var(--shadow); padding: 2rem; margin-bottom: 2rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
            <div>
                <h2 style="color: var(--primary-red); margin-bottom: 0.5rem;">–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞</h2>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <span class="status-badge processing">–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</span>
                    <span style="color: var(--secondary-gray);">–û–±–Ω–æ–≤–ª–µ–Ω–æ: 22.06.2025 15:30</span>
                </div>
            </div>
            <div style="text-align: right;">
                <div style="font-size: 0.9rem; color: var(--secondary-gray); margin-bottom: 0.5rem;">–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</div>
                <div style="font-size: 1.1rem; font-weight: bold;">22.06.2025 14:30</div>
            </div>
        </div>
        
        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–∫–∞–∑–∞ -->
        <div style="margin-bottom: 2rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; position: relative;">
                <!-- –õ–∏–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
                <div style="position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: var(--light-gray); z-index: 1;"></div>
                <div style="position: absolute; top: 50%; left: 0; width: 50%; height: 2px; background: var(--primary-red); z-index: 2;"></div>
                
                <!-- –≠—Ç–∞–ø—ã -->
                <div style="text-align: center; position: relative; z-index: 3;">
                    <div style="width: 20px; height: 20px; border-radius: 50%; background: var(--primary-red); margin: 0 auto 0.5rem;"></div>
                    <div style="font-size: 0.9rem; font-weight: bold;">–°–æ–∑–¥–∞–Ω</div>
                    <div style="font-size: 0.8rem; color: var(--secondary-gray);">22.06 14:30</div>
                </div>
                
                <div style="text-align: center; position: relative; z-index: 3;">
                    <div style="width: 20px; height: 20px; border-radius: 50%; background: var(--primary-red); margin: 0 auto 0.5rem;"></div>
                    <div style="font-size: 0.9rem; font-weight: bold;">–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è</div>
                    <div style="font-size: 0.8rem; color: var(--secondary-gray);">22.06 15:30</div>
                </div>
                
                <div style="text-align: center; position: relative; z-index: 3;">
                    <div style="width: 20px; height: 20px; border-radius: 50%; background: var(--light-gray); margin: 0 auto 0.5rem;"></div>
                    <div style="font-size: 0.9rem; color: var(--secondary-gray);">–ì–æ—Ç–æ–≤</div>
                </div>
                
                <div style="text-align: center; position: relative; z-index: 3;">
                    <div style="width: 20px; height: 20px; border-radius: 50%; background: var(--light-gray); margin: 0 auto 0.5rem;"></div>
                    <div style="font-size: 0.9rem; color: var(--secondary-gray);">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</div>
                </div>
                
                <div style="text-align: center; position: relative; z-index: 3;">
                    <div style="width: 20px; height: 20px; border-radius: 50%; background: var(--light-gray); margin: 0 auto 0.5rem;"></div>
                    <div style="font-size: 0.9rem; color: var(--secondary-gray);">–ü–æ–ª—É—á–µ–Ω</div>
                </div>
            </div>
        </div>
    </div>
    
    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;">
        <!-- –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ -->
        <div>
            <div style="background: white; border-radius: 10px; box-shadow: var(--shadow); padding: 2rem;">
                <h2 style="color: var(--primary-red); margin-bottom: 1.5rem;">–¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ</h2>
                
                <!-- –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü—ã -->
                <div style="display: grid; grid-template-columns: 80px 1fr 120px 100px 120px; gap: 1rem; padding: 1rem; border-bottom: 1px solid var(--light-gray); font-weight: bold; color: var(--dark-gray);">
                    <div>–§–æ—Ç–æ</div>
                    <div>–¢–æ–≤–∞—Ä</div>
                    <div>–¶–µ–Ω–∞</div>
                    <div>–ö–æ–ª-–≤–æ</div>
                    <div>–°—É–º–º–∞</div>
                </div>
                
                <!-- –¢–æ–≤–∞—Ä—ã -->
                <div style="display: grid; grid-template-columns: 80px 1fr 120px 100px 120px; gap: 1rem; padding: 1rem; border-bottom: 1px solid var(--light-gray); align-items: center;">
                    <div>
                        <img src="https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=60&h=60&fit=crop" 
                             alt="–£–≥–æ–ª–æ–∫ 90¬∞" style="width: 60px; height: 60px; object-fit: cover; border-radius: 5px;">
                    </div>
                    <div>
                        <h4 style="margin-bottom: 0.25rem;">–£–≥–æ–ª–æ–∫ 90¬∞ –î—É 50</h4>
                        <p style="color: var(--secondary-gray); font-size: 0.9rem;">–ê—Ä—Ç–∏–∫—É–ª: –£–ì-50-90</p>
                    </div>
                    <div style="font-weight: bold;">25.50 BYN</div>
                    <div style="text-align: center;">5 —à—Ç</div>
                    <div style="font-weight: bold; color: var(--primary-red);">127.50 BYN</div>
                </div>
                
                <div style="display: grid; grid-template-columns: 80px 1fr 120px 100px 120px; gap: 1rem; padding: 1rem; border-bottom: 1px solid var(--light-gray); align-items: center;">
                    <div>
                        <img src="https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=60&h=60&fit=crop" 
                             alt="–¢—Ä–æ–π–Ω–∏–∫" style="width: 60px; height: 60px; object-fit: cover; border-radius: 5px;">
                    </div>
                    <div>
                        <h4 style="margin-bottom: 0.25rem;">–¢—Ä–æ–π–Ω–∏–∫ –î—É 50</h4>
                        <p style="color: var(--secondary-gray); font-size: 0.9rem;">–ê—Ä—Ç–∏–∫—É–ª: –¢–†-50</p>
                    </div>
                    <div style="font-weight: bold;">32.80 BYN</div>
                    <div style="text-align: center;">3 —à—Ç</div>
                    <div style="font-weight: bold; color: var(--primary-red);">98.40 BYN</div>
                </div>
                
                <div style="display: grid; grid-template-columns: 80px 1fr 120px 100px 120px; gap: 1rem; padding: 1rem; align-items: center;">
                    <div>
                        <img src="https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=60&h=60&fit=crop" 
                             alt="–ö—Ä–∞–Ω —à–∞—Ä–æ–≤–æ–π" style="width: 60px; height: 60px; object-fit: cover; border-radius: 5px;">
                    </div>
                    <div>
                        <h4 style="margin-bottom: 0.25rem;">–ö—Ä–∞–Ω —à–∞—Ä–æ–≤–æ–π –î—É 50</h4>
                        <p style="color: var(--secondary-gray); font-size: 0.9rem;">–ê—Ä—Ç–∏–∫—É–ª: –ö–®-50</p>
                    </div>
                    <div style="font-weight: bold;">78.50 BYN</div>
                    <div style="text-align: center;">1 —à—Ç</div>
                    <div style="font-weight: bold; color: var(--primary-red);">78.50 BYN</div>
                </div>
            </div>
        </div>
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ -->
        <div>
            <!-- –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞ -->
            <div style="background: white; border-radius: 10px; box-shadow: var(--shadow); padding: 2rem; margin-bottom: 2rem;">
                <h3 style="color: var(--primary-red); margin-bottom: 1.5rem;">–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞</h3>
                
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>–¢–æ–≤–∞—Ä—ã (9 –ø–æ–∑–∏—Ü–∏–π):</span>
                    <span>304.40 BYN</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>–î–æ—Å—Ç–∞–≤–∫–∞:</span>
                    <span>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>–°–∫–∏–¥–∫–∞:</span>
                    <span style="color: var(--primary-red);">-0.00 BYN</span>
                </div>
                <hr style="margin: 1rem 0; border: none; border-top: 1px solid var(--light-gray);">
                <div style="display: flex; justify-content: space-between; font-size: 1.2rem; font-weight: bold; color: var(--primary-red);">
                    <span>–ò—Ç–æ–≥–æ:</span>
                    <span>304.40 BYN</span>
                </div>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ -->
            <div style="background: white; border-radius: 10px; box-shadow: var(--shadow); padding: 2rem; margin-bottom: 2rem;">
                <h3 style="color: var(--primary-red); margin-bottom: 1.5rem;">–î–æ—Å—Ç–∞–≤–∫–∞</h3>
                
                <div style="margin-bottom: 1rem;">
                    <div style="font-weight: bold; margin-bottom: 0.5rem;">–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏:</div>
                    <div>–°–∞–º–æ–≤—ã–≤–æ–∑</div>
                </div>
                
                <div style="margin-bottom: 1rem;">
                    <div style="font-weight: bold; margin-bottom: 0.5rem;">–ê–¥—Ä–µ—Å:</div>
                    <div>–≥. –ì–æ–º–µ–ª—å, —É–ª. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è, 15<br>–û–ê–û "–ì–ó–õ–∏–ù"</div>
                </div>
                
                <div>
                    <div style="font-weight: bold; margin-bottom: 0.5rem;">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</div>
                    <div style="color: var(--secondary-gray);">–ü–Ω-–ü—Ç: 8:00-17:00<br>–°–±-–í—Å: –≤—ã—Ö–æ–¥–Ω–æ–π</div>
                </div>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–ª–∞—Ç–µ -->
            <div style="background: white; border-radius: 10px; box-shadow: var(--shadow); padding: 2rem; margin-bottom: 2rem;">
                <h3 style="color: var(--primary-red); margin-bottom: 1.5rem;">–û–ø–ª–∞—Ç–∞</h3>
                
                <div style="margin-bottom: 1rem;">
                    <div style="font-weight: bold; margin-bottom: 0.5rem;">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</div>
                    <div>–ù–∞–ª–∏—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç</div>
                </div>
                
                <div style="margin-bottom: 1rem;">
                    <div style="font-weight: bold; margin-bottom: 0.5rem;">–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã:</div>
                    <span class="status-badge pending">–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã</span>
                </div>
                
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="payOrder()">
                    –û–ø–ª–∞—Ç–∏—Ç—å –∑–∞–∫–∞–∑
                </button>
            </div>
            
            <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div style="background: white; border-radius: 10px; box-shadow: var(--shadow); padding: 2rem;">
                <h3 style="color: var(--primary-red); margin-bottom: 1.5rem;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                
                <div style="margin-bottom: 0.5rem;">
                    <strong>–ó–∞–∫–∞–∑—á–∏–∫:</strong> –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
                </div>
                <div style="margin-bottom: 0.5rem;">
                    <strong>Email:</strong> ivan@example.com
                </div>
                <div style="margin-bottom: 0.5rem;">
                    <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +375 29 123-45-67
                </div>
                <div>
                    <strong>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:</strong> –û–û–û "–¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è"
                </div>
            </div>
        </div>
    </div>
    
    <!-- –î–µ–π—Å—Ç–≤–∏—è —Å –∑–∞–∫–∞–∑–æ–º -->
    <div style="background: white; border-radius: 10px; box-shadow: var(--shadow); padding: 2rem; margin-top: 2rem;">
        <h3 style="color: var(--primary-red); margin-bottom: 1.5rem;">–î–µ–π—Å—Ç–≤–∏—è</h3>
        
        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <button class="btn btn-outline" onclick="repeatOrder()">üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–∫–∞–∑</button>
            <button class="btn btn-outline" onclick="contactSupport()">üí¨ –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</button>
            <button class="btn btn-danger" onclick="cancelOrder()" id="cancelBtn">‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </div>
    </div>
</div>

<style>
.status-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: bold;
    text-transform: uppercase;
}

.status-badge.pending {
    background: rgba(255, 193, 7, 0.1);
    color: #856404;
}

.status-badge.processing {
    background: rgba(23, 162, 184, 0.1);
    color: #0c5460;
}

.status-badge.paid {
    background: rgba(40, 167, 69, 0.1);
    color: #155724;
}

.status-badge.cancelled {
    background: rgba(220, 53, 69, 0.1);
    color: #721c24;
}

.btn-danger {
    background: #dc3545;
    color: white;
    border: none;
}

.btn-danger:hover {
    background: #c82333;
}

@media (max-width: 768px) {
    .container > div:first-of-type {
        grid-template-columns: 1fr !important;
    }
    
    .container > div:first-of-type > div:first-child > div:nth-child(2) > div {
        grid-template-columns: 1fr !important;
        text-align: left;
    }
    
    .container > div:first-of-type > div:first-child > div:nth-child(2) > div > div:last-child {
        text-align: center;
        margin-top: 0.5rem;
    }
}
</style>

<script>
function downloadOrder() {
    alert('–§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è PDF –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–∑–∂–µ');
}

function payOrder() {
    alert('–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ –∑–∞–∫–∞–∑–∞');
}

function repeatOrder() {
    if (confirm('–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –∏–∑ —ç—Ç–æ–≥–æ –∑–∞–∫–∞–∑–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É?')) {
        alert('–¢–æ–≤–∞—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ—Ä–∑–∏–Ω—É');
    }
}

function contactSupport() {
    window.location.href = '{% url "core:contacts" %}';
}

function cancelOrder() {
    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
        alert('–ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω');
        document.getElementById('cancelBtn').style.display = 'none';
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
        document.querySelector('.status-badge').className = 'status-badge cancelled';
        document.querySelector('.status-badge').textContent = '–û—Ç–º–µ–Ω–µ–Ω';
    }
}
</script>
{% endblock %}